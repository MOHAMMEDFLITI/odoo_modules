<odoo>

<record id = "property_view_tree" model="ir.ui.view">
<field name="name">property tree</field>
<field name="model">property</field>
<field name="arch" type="xml">
<list multi_edit="1" create="true" edit="true" delete="1" class ="header_custom" decoration-danger="(is_late)">
<field name="name"/>
<field name="descreption"/>
<field name="postcode" optional = "1"/>
<field name="is_late" invisible = "1"/>
<field name="owner_id"/>
<field name="owner_adress"/>
<field name="owner_phone"/>
<field name="date_availability"/>
<field name="expected_price"/>
<field name="sold_price"/>
<field name="diff"/>
<field name="bedrooms"/>
<field name="tag_ids"/>
<field name="living_area"/>
<field name="facades"/>
<field name="garage"/>
<field name="state"/>
<field name="garden"/>
<field name="garden_area"/>
<field name="garden_orientation"/>

</list>
</field>
</record>

<record id = "property_view_form" model="ir.ui.view">
<field name="name">property form</field>
<field name="model">property</field>
<field name="arch" type="xml">
<form create="true" edit="true" delete="0">
  <sheet>
  <header>

    <button name="action_draft" string="Set to Draft" type="object" class="btn-primary" invisible="state =='draft'"/>
    <button name="action_pending" string="Set to Pending" type="object" class="btn-secondary" invisible="state  !='draft' "/> 
    <button name="action_sold" string="Set to Sold" type="object" class="btn-success" invisible="state !='pending' "/>   
         <field name="state" widget="statusbar" statusbar="draft,pending,sold" options="{'clickable':0}"/>
    </header>
  <div class="oe_title">
  <label for = "name"/>
    <h2>
        <field name="name"/>
    </h2>
  </div>
    <group>
        <group string="General Information">
            <field name="descreption"/>
            <field name="postcode"/>
            <field name="date_availability"/>
            <field name="date_availability"/>
            <field name="expected_selling_date"/>
            <field name="is_late"/>
            <field name="owner_id"/>
            <field name="owner_adress"/>
            <field name="owner_phone"/>
            <field name="bedrooms"/>
            <field name="living_area"/>
            <field name="tag_ids" widget="many2many_tags"/>
        </group>
        <group string="Additional Information">
            <field name="expected_price"/>
            <field name="sold_price"/>
            <field name="diff"/>
            <field name="garden_orientation" required="1"/>
            <field name="garden_area"/>
            <field name="garden"/>
            <field name="garage"/>
            <field name="facades"/>
            </group>
      </group>
      <notebook>
        <page string="Bedrooms">
            <field name="line_ids">
                <list editable="bottom">
                    <field name="description"/>
                    <field name="area"/>
                </list>
            </field>
        </page>
        <page string="Offers">
            <field name="line_ids">
                <list >
                    <field name="price"/>
                    <field name="date"/>
                </list>
            </field>
        </page>
        <page string="others">
            <field name="other_line">
                <list >
                    <field name="name"/>
                    <field name="notes"/>
                    <field name="yes_no"/>
                    <field name="value"/>
                </list>
            </field>
        </page>

      </notebook>
    </sheet>
    <chatter class="oe_chatter">
    <field name="message_follower_ids"/>
    <field name="activity_ids"/>
    <field name="message_ids"/>
  </chatter>
</form>
</field>
</record>

<record id = "property_view_search" model="ir.ui.view">
<field name="name">property search</field>
<field name="model">property</field>
<field name="arch" type="xml">
<search>
<field name="garden_orientation"/> 
<field name="name"/>
<filter name = "garage" string="is garage" domain="[('garage', '=', True)]"/>
<filter name = "is_not_garage" string="is not garage" domain="[('garage', '=', False)]"/>
<filter name = "date_available" string ="2025" domain =" [('date_availability','>','01-01-2025')] "/>
<filter name = "grouped_by_garden"  string= "Grouped by garden" context="{'group_by':'garden_orientation'}"/>
</search>
</field>
</record>

<record id= "propertie_action" model ="ir.actions.act_window">
    <field name="name">property</field> <!--  name as you want -->
    <field name="res_model">property</field>
</record>
<!-- 
<record id= "property_closed_server_action" model ="ir.actions.server">   also u can Add Server Actions from the UI 
    <field name="name">closed</field>
    <field name="model_id" ref="model_property"/>   model_modelName 
    <field name="binding_model_id" ref ="model_property"/>  to add it on dropdown list also linking server action with model 
    <field name="state">code</field>
    <field name="code">
        action = records.action_closed()
    </field>
</record>  
-->
<record id= "check_selling_date_cron" model ="ir.cron">  <!-- no more numbercall -->
    <field name="name">Property : check selling date</field>
    <field name="model_id" ref="model_property"/>  
    <field name="state">code</field>
    <field name="code">model.check_expected_selling_date()</field>
    <field name="interval_number">1</field>
    <field name="interval_type">days</field>
    <field name="active">True</field>
</record> 

<menuitem 
    id="properties_menu" 
    name="properties"
    parent="property_menu" 
    action= "propertie_action"/>

</odoo>

